<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Kewen Xu">
    <meta name="description" content="Personal homepage showcasing portfolio and skills">
    <title>Kewen Xu - Homepage</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <a href="index.html" class="brand-link">Kewen Xu</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link active">Home</a></li>
                <li class="nav-item"><a href="project1.html" class="nav-link">Projects</a></li>
                <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Kewen Xu</h1>
                    <p class="hero-subtitle">Video Game Designer</p>
                    <p class="hero-description">
                        AAA game designer, also developing fun indie games.
                    </p>
                    <div class="hero-actions">
                        <a href="project1.html" class="btn btn-primary">View My Projects</a>
                        <a href="about.html" class="btn btn-secondary">Learn More</a>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="avatar-container">
                        <img src="images/avatar.jpg" alt="Kewen Xu" class="avatar">
                    </div>
                </div>
            </div>
        </section>

        <section class="skills-section">
            <h2 class="section-title">Skills & Technologies</h2>
            <div id="skills-visualizer" class="skills-visualizer">
            </div>
            <p style="text-align: center; margin-top: 1rem;">UE5, Unity, Python, Java, C/C++</p>
        </section>

        <section class="featured-projects">
            <h2 class="section-title">Featured Projects</h2>
            <div class="projects-grid">
                <article class="project-card">
                    <div class="project-image">
                        <img src="images/project1.jpg" alt="Project 1 description" class="project-img">
                    </div>
                    <div class="project-content">
                        <h3 class="project-title">Bug MiMi</h3>
                        <p class="project-description">
                            A 2D horror platformer video game, the monsters can mess with your game program.
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">Unity</span>
                            <span class="tech-tag">C#</span>
                        </div>
                        <a href="project1.html" class="project-link">View Details</a>
                    </div>
                </article>

                <article class="project-card">
                    <div class="project-image">
                        <img src="images/project2.jpg" alt="Project 2 description" class="project-img">
                    </div>
                    <div class="project-content">
                        <h3 class="project-title">OCD VR</h3>
                        <p class="project-description">
                            VR puzzle game, to solve the puzzle you need to think like an OCD person.
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">UE5</span>
                            <span class="tech-tag">C++</span>
                        </div>
                        <a href="project2.html" class="project-link">View Details</a>
                    </div>
                </article>
            </div>
            <div class="section-actions">
                <a href="project1.html" class="btn btn-outline">View All Projects</a>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3 class="footer-title">Connect with Me</h3>
                <div class="social-links">
                    <a href="https://github.com/KA1-X" class="social-link">GitHub</a>
                </div>
            </div>
            <div class="footer-section">
                <p class="copyright">&copy; 2025 Kewen Xu. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script type="module">
        class Navigation {
            constructor() {
                this.hamburger = document.querySelector('.hamburger');
                this.navMenu = document.querySelector('.nav-menu');
                this.init();
            }

            init() {
                if (this.hamburger) {
                    this.hamburger.addEventListener('click', () => {
                        this.toggleMenu();
                    });
                }

                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        if (this.navMenu) {
                            this.navMenu.classList.remove('active');
                        }
                    });
                });
            }

            toggleMenu() {
                if (this.navMenu && this.hamburger) {
                    this.navMenu.classList.toggle('active');
                    this.hamburger.classList.toggle('active');
                }
            }
        }

        class SkillsVisualizer {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
                if (!this.container) {
                    console.error(`Container with id '${containerId}' not found`);
                    return;
                }
                
                this.skills = [
                    { name: 'UE5', level: 90, color: '#e34c26' },
                    { name: 'Unity', level: 85, color: '#264de4' },
                    { name: 'Python', level: 88, color: '#f0db4f' },
                    { name: 'Java', level: 80, color: '#61dafb' },
                    { name: 'C++', level: 75, color: '#42b883' },
                    { name: 'C#', level: 82, color: '#68a063' }
                ];
                this.currentRotation = 0;
                this.init();
            }

            init() {
                this.createVisualization();
                this.addEventListeners();
            }

            createVisualization() {
                this.container.innerHTML = '';
                
                const container = document.createElement('div');
                container.className = 'skills-container';
                
                this.skills.forEach((skill, index) => {
                    const angle = (index * 360) / this.skills.length;
                    const skillElement = this.createSkillElement(skill, angle);
                    container.appendChild(skillElement);
                });
                
                this.container.appendChild(container);
                this.skillsContainer = container;
            }

            createSkillElement(skill, angle) {
                const element = document.createElement('div');
                element.className = 'skill-item';
                element.innerHTML = `
                    <div class="skill-icon">${this.getSkillIcon(skill.name)}</div>
                    <div class="skill-name">${skill.name}</div>
                    <div class="skill-level">${skill.level}%</div>
                `;
                
                const radius = 150;
                const x = radius * Math.cos(angle * Math.PI / 180);
                const z = radius * Math.sin(angle * Math.PI / 180);
                
                element.style.transform = `translate3d(${x}px, 0px, ${z}px) rotateY(${angle}deg)`;
                element.style.background = this.hexToRgba(skill.color, 0.1);
                element.style.borderColor = skill.color;
                
                element.addEventListener('mouseenter', () => {
                    element.style.background = this.hexToRgba(skill.color, 0.2);
                    element.style.transform = `translate3d(${x}px, 0px, ${z}px) rotateY(${angle}deg) scale(1.2)`;
                });
                
                element.addEventListener('mouseleave', () => {
                    element.style.background = this.hexToRgba(skill.color, 0.1);
                    element.style.transform = `translate3d(${x}px, 0px, ${z}px) rotateY(${angle}deg)`;
                });
                
                return element;
            }

            getSkillIcon(skillName) {
                const icons = {
                    'UE5': 'üéÆ',
                    'Unity': 'üé≤',
                    'Python': 'üêç',
                    'Java': '‚òï',
                    'C++': '‚ö°',
                    'C#': 'üíú'
                };
                return icons[skillName] || 'üíª';
            }

            hexToRgba(hex, alpha) {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            }

            addEventListeners() {
                let isDragging = false;
                let startX, startY;
                let rotationX = 0;
                let rotationY = 0;

                this.container.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    e.preventDefault();
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    const deltaX = e.clientX - startX;
                    const deltaY = e.clientY - startY;
                    
                    rotationY += deltaX * 0.5;
                    rotationX -= deltaY * 0.5;
                    
                    this.skillsContainer.style.transform = 
                        `rotateY(${rotationY}deg) rotateX(${rotationX}deg)`;
                    
                    startX = e.clientX;
                    startY = e.clientY;
                });

                document.addEventListener('mouseup', () => {
                    isDragging = false;
                });

                this.startAutoRotation();
            }

            startAutoRotation() {
                setInterval(() => {
                    if (this.skillsContainer && !document.querySelector('.skill-item:hover')) {
                        this.currentRotation += 0.5;
                        this.skillsContainer.style.transform = `rotateY(${this.currentRotation}deg)`;
                    }
                }, 50);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new Navigation();
            new SkillsVisualizer('skills-visualizer');
        });
    </script>
</body>
</html>